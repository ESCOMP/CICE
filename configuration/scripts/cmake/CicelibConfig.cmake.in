# Copyright ACCESS-NRI and contributors. See the top-level LICENSE file for details.

@PACKAGE_INIT@

# Request components
set(_required_components ${Cicelib_FIND_COMPONENTS})


# Check indirect dependencies
set(CICE_IO @CICE_IO@)

if(CICE_IO MATCHES "NetCDF")
    find_dependency(NetCDF 4.7.3 REQUIRED Fortran)
elseif(CICE_IO MATCHES "PIO")
    if (NOT TARGET PIO::PIO_Fortran)
        find_dependency(PIO 2.5.3 REQUIRED COMPONENTS C Fortran)
    endif()
    find_dependency(NetCDF REQUIRED Fortran)
endif()

if(@OPENMP@)
  find_package(OpenMP REQUIRED)
endif()

# Run the normal Targets.cmake
list(APPEND CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})
include("${CMAKE_CURRENT_LIST_DIR}/CicelibTargets.cmake")
list(REMOVE_ITEM CMAKE_MODULE_PATH ${CMAKE_CURRENT_LIST_DIR})

# Check the requested components are valid
check_required_components(_required_components)